<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Postflix.ai - Christmas Edition</title>
<link href="https://fonts.googleapis.com/css2?family=Courier+New&family=Georgia&family=Inter:wght@400;600;700;800&family=Lato:wght@400;700&family=Montserrat:wght@400;700&family=Oswald:wght@400;700&family=Pacifico&family=Playfair+Display:wght@400;700&family=Poppins:wght@400;600;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
* {
    box-sizing: border-box;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #0a2e0a 0%, #1a0f0f 50%, #0a2e0a 100%);
    color: #e0e0e0;
    margin: 0;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
}

body::before {
    content: '‚ùÑÔ∏è';
    position: fixed;
    top: -50px;
    left: 10%;
    font-size: 2rem;
    opacity: 0.3;
    animation: snowfall 15s linear infinite;
}

body::after {
    content: '‚≠ê';
    position: fixed;
    top: -50px;
    right: 15%;
    font-size: 1.5rem;
    opacity: 0.4;
    animation: snowfall 20s linear infinite;
    animation-delay: 5s;
}

@keyframes snowfall {
    to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
    }
}

h1 {
    font-size: 2.2rem;
    font-weight: 800;
    margin: 0 0 30px 0;
    color: #ffffff;
    text-align: center;
    letter-spacing: 1px;
    text-shadow: 0 0 20px rgba(220, 38, 38, 0.6), 0 0 40px rgba(34, 197, 94, 0.4);
    background: linear-gradient(90deg, #dc2626, #22c55e, #fbbf24, #dc2626);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: christmasGlow 3s ease-in-out infinite;
}

@keyframes christmasGlow {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

.main-wrapper {
    display: flex;
    gap: 30px;
    max-width: 1400px;
    margin: 0 auto;
    align-items: flex-start;
}

.container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    flex: 1;
    min-width: 300px;
    max-width: 500px;
    background: rgba(26, 26, 26, 0.95);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(220, 38, 38, 0.3), 0 0 50px rgba(34, 197, 94, 0.2);
    border: 2px solid rgba(220, 38, 38, 0.3);
}

.preview {
    position: sticky;
    top: 20px;
    flex-shrink: 0;
    width: 450px;
    height: 562px;
    overflow: hidden;
    border-radius: 16px;
    background: #1a1a1a;
    border: 3px solid #dc2626;
    box-shadow: 0 10px 40px rgba(220, 38, 38, 0.5), 0 0 60px rgba(34, 197, 94, 0.3);
}

@media (max-width: 1100px) {
    .main-wrapper {
        flex-direction: column;
        align-items: center;
    }
    
    .container {
        max-width: 100%;
        width: 100%;
    }
    
    .preview {
        position: relative;
        width: 100%;
        max-width: 450px;
    }
}

.control-group {
    padding: 15px;
    border: 1px solid rgba(220, 38, 38, 0.3);
    border-radius: 8px;
    margin-bottom: 10px;
    background: rgba(34, 197, 94, 0.05);
}

label {
    font-weight: 600;
    color: #22c55e;
    display: block;
    margin-bottom: 5px;
    font-size: 0.95rem;
    text-shadow: 0 0 10px rgba(34, 197, 94, 0.3);
}

input[type="text"], input[type="file"], input[type="password"], select, textarea {
    background: #282828;
    border: 1px solid #3a3a3a;
    color: #fff;
    padding: 12px;
    border-radius: 8px;
    width: 100%;
    font-size: 1rem;
    transition: border-color 0.3s, box-shadow 0.3s;
    box-sizing: border-box;
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

input[type="text"]:focus, input[type="password"]:focus, select:focus, textarea:focus {
    border-color: #dc2626;
    outline: none;
    box-shadow: 0 0 10px rgba(220, 38, 38, 0.5);
}

input[type="file"] {
    cursor: pointer;
    background: #222;
}

select option {
    background-color: #282828;
    color: #fff;
}

button {
    background: linear-gradient(135deg, #dc2626, #991b1b);
    color: #ffffff;
    border: none;
    padding: 12px;
    border-radius: 8px;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    transition: 0.25s ease-in-out;
    box-shadow: 0 4px 15px rgba(220, 38, 38, 0.4);
    margin-top: 10px;
}

button:hover:not(:disabled) {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(220, 38, 38, 0.6);
}

button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.spinner {
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top-color: #ffffff;
    animation: spin 0.8s linear infinite;
    margin-right: 8px;
    vertical-align: middle;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.text-overlay {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 28px;
    font-weight: 400;
    cursor: grab;
    user-select: none;
    text-align: center;
    line-height: 1.4;
    padding: 10px 15px;
    word-wrap: break-word;
    word-break: break-word;
    overflow-wrap: break-word;
    text-shadow: 0 0 15px rgba(220, 38, 38, 0.8), 0 0 20px rgba(34, 197, 94, 0.5);
    transition: font-size 0.2s, font-family 0.2s, font-weight 0.2s, font-style 0.2s;
    max-width: 90%;
}

.text-overlay.dragging {
    cursor: grabbing;
}

.color-palette {
    display: grid;
    grid-template-columns: repeat(8, 30px);
    gap: 8px;
    margin-top: 5px;
}

.color-swatch {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid #333;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    transition: transform 0.2s, border-color 0.2s;
}

.color-swatch.active { 
    border-color: #22c55e;
    transform: scale(1.15);
    box-shadow: 0 0 15px rgba(34, 197, 94, 0.6);
}

.color-swatch:hover {
    transform: scale(1.1);
    border-color: #22c55e;
}

.style-checks {
    display: flex;
    gap: 20px;
    margin-top: 5px;
    color: #e0e0e0;
}

.style-checks label {
    font-weight: 400;
    color: #e0e0e0;
    display: flex;
    align-items: center;
    gap: 5px;
    cursor: pointer;
}

.style-checks input[type="checkbox"] {
    width: auto;
    cursor: pointer;
}

.language-selector {
    display: flex;
    gap: 8px;
    margin-bottom: 10px;
    flex-wrap: wrap;
}

.lang-btn {
    font-size: 1.5rem;
    padding: 8px 12px;
    background: #282828;
    border: 2px solid #3a3a3a;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
    filter: grayscale(80%);
    opacity: 0.6;
}

.lang-btn:hover {
    filter: grayscale(0%);
    opacity: 1;
    transform: scale(1.1);
}

.lang-btn.active {
    filter: grayscale(0%);
    opacity: 1;
    border-color: #22c55e;
    background: #1a3a1a;
    box-shadow: 0 0 15px rgba(34, 197, 94, 0.4);
}

.filtered-phrases-output {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid rgba(220, 38, 38, 0.3);
    border-radius: 8px;
    padding: 5px;
    background: rgba(0, 0, 0, 0.3);
}

.phrase-item {
    padding: 8px 10px;
    margin-bottom: 5px;
    background: rgba(34, 197, 94, 0.1);
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    line-height: 1.3;
    transition: background 0.2s, transform 0.1s;
    border-left: 4px solid #dc2626;
}

.phrase-item:hover {
    background: rgba(34, 197, 94, 0.2);
    transform: translateX(3px);
    border-left-color: #22c55e;
}

.message {
    padding: 10px 15px;
    border-radius: 8px;
    margin-top: 10px;
    font-size: 0.9rem;
    text-align: center;
    animation: fadeIn 0.3s ease-in;
}

.message.error {
    background: rgba(220, 38, 38, 0.2);
    border: 1px solid #dc2626;
    color: #ff6b6b;
}

.message.success {
    background: rgba(34, 197, 94, 0.2);
    border: 1px solid #22c55e;
    color: #22c55e;
}

.message.warning {
    background: rgba(251, 191, 36, 0.2);
    border: 1px solid #fbbf24;
    color: #fbbf24;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.download-btn {
    margin-top: 25px;
    background: linear-gradient(135deg, #22c55e, #16a34a);
}

.download-btn:hover:not(:disabled) {
    background: linear-gradient(135deg, #4ade80, #22c55e);
}

.christmas-note {
    text-align: center;
    color: #22c55e;
    font-size: 0.85rem;
    margin-top: 5px;
    font-style: italic;
    opacity: 0.8;
}

/* PROTECTION MODAL STYLES */
#protectionModal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.98);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 99999;
    backdrop-filter: blur(10px);
}

.modal-content {
    background: linear-gradient(135deg, #1a1a1a, #0a2e0a);
    padding: 40px;
    border-radius: 16px;
    text-align: center;
    max-width: 400px;
    width: 90%;
    border: 2px solid #dc2626;
    box-shadow: 0 0 50px rgba(220, 38, 38, 0.5), 0 0 100px rgba(34, 197, 94, 0.3);
}

.modal-content h2 {
    color: #22c55e;
    font-size: 2rem;
    margin-bottom: 20px;
    text-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
}

.modal-content input {
    width: 100%;
    margin-bottom: 15px;
}

.modal-content button {
    width: 100%;
}

#errorBlock {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 999999;
}

#errorBlock div {
    text-align: center;
    color: #dc2626;
    font-size: 1.5rem;
    padding: 40px;
    max-width: 600px;
}

.app-content {
    display: none;
}
</style>
</head>
<body>

<!-- PROTECTION MODAL -->
<div id="protectionModal">
  <div class="modal-content">
    <h2>üîê Access Required</h2>
    <p style="color: #e0e0e0; margin-bottom: 20px;">Enter your access password</p>
    <input type="password" id="passwordInput" placeholder="Password" autocomplete="off" />
    <div id="passwordError" class="message error" style="display: none;"></div>
    <button id="submitPassword">üéÑ Access</button>
  </div>
</div>

<!-- ERROR BLOCK -->
<div id="errorBlock">
  <div id="errorMessage"></div>
</div>

<!-- MAIN APP -->
<div class="app-content">

<h1>üéÑ Postflix.ai - Healthcare Holiday Cards üéÑ</h1>

<div class="main-wrapper">
  <div class="container">
  
    <div class="control-group">
      <label for="backgroundInput">Background Image:</label>
      <input type="file" id="backgroundInput" accept="image/*" style="display:none;">
      <button type="button" id="customFileBtn" style="width:100%; background:#282828; color:#fff; border:1px solid #3a3a3a; cursor:pointer; font-weight:400; margin-top:0;">Choose File</button>
      <span id="fileName" style="display:block; margin-top:8px; font-size:0.85rem; color:#888;">No file chosen</span>
      <div id="imageMessage"></div>
    </div>

    <div class="control-group">
      <label for="textInput">Post Text:</label>
      <input type="text" id="textInput" placeholder="Type your post text" maxlength="200">

      <label style="margin-top:15px;">Text Color:</label>
      <div class="color-palette" id="colorPalette"></div>
      
      <label style="margin-top:15px;">Font:</label>
      <select id="fontSelect">
          <option value="'Courier New', monospace">Courier New</option>
          <option value="'Georgia', serif">Georgia</option>
          <option value="'Inter', sans-serif">Inter</option>
          <option value="'Lato', sans-serif">Lato</option>
          <option value="'Montserrat', sans-serif">Montserrat</option>
          <option value="'Oswald', sans-serif">Oswald</option>
          <option value="'Pacifico', cursive">Pacifico</option>
          <option value="'Playfair Display', serif">Playfair Display</option>
          <option value="'Poppins', sans-serif">Poppins</option>
          <option value="'Roboto', sans-serif">Roboto</option>
      </select>

      <label style="margin-top:15px;">Style:</label>
      <div class="style-checks">
        <label><input type="checkbox" id="boldCheck"> Bold</label>
        <label><input type="checkbox" id="italicCheck"> Italic</label>
      </div>
      
      <label style="margin-top:15px;">Font Size:</label>
      <div style="display:flex; align-items:center; gap:10px;">
        <input type="range" id="fontSizeSlider" min="16" max="60" value="28" style="flex:1; cursor:pointer;">
        <span id="fontSizeValue" style="color:#22c55e; font-weight:600; min-width:45px;">28px</span>
      </div>
    </div>
    
    <div class="control-group">
      <label>üéÖ Christmas Phrase Suggestions:</label>
      <p class="christmas-note">Click on a language to see 40 festive phrases!</p>
      
      <div class="language-selector">
        <button class="lang-btn active" data-lang="en" title="English">üá∫üá∏</button>
        <button class="lang-btn" data-lang="es" title="Espa√±ol">üá™üá∏</button>
        <button class="lang-btn" data-lang="pt" title="Portugu√™s">üáµüáπ</button>
        <button class="lang-btn" data-lang="fr" title="Fran√ßais">üá´üá∑</button>
        <button class="lang-btn" data-lang="it" title="Italiano">üáÆüáπ</button>
        <button class="lang-btn" data-lang="de" title="Deutsch">üá©üá™</button>
      </div>
      
      <div id="filteredPhrasesOutput" class="filtered-phrases-output"></div>
    </div>

    <button id="downloadBtn" class="download-btn">üéÅ Download Image</button>
    <div id="downloadMessage"></div>
  </div>

  <div class="preview" id="previewArea">
    <img id="previewImage" src="" alt="Preview">
    <div class="text-overlay" id="previewText"></div>
  </div>
</div>

</div>

<script>
// ============================================
// COPYRIGHT PROTECTION SYSTEM
// ============================================
(function() {
    'use strict';
    
    // COPYRIGHT WARNINGS
    console.log('%c‚ö†Ô∏è COPYRIGHT PROTECTED - UNAUTHORIZED ACCESS WILL BE PROSECUTED', 'color: #dc2626; font-size: 20px; font-weight: bold; text-shadow: 0 0 10px #dc2626;');
    console.log('%c‚ö†Ô∏è THIS CODE IS PROTECTED BY INTELLECTUAL PROPERTY LAW', 'color: #dc2626; font-size: 16px; font-weight: bold;');
    console.log('%c‚ö†Ô∏è ANY ATTEMPT TO COPY, MODIFY OR DISTRIBUTE WILL BE LEGALLY PURSUED', 'color: #dc2626; font-size: 16px; font-weight: bold;');
    
    // PROTECTION CONFIG (OBFUSCATED)
    const _0xconfig = {
        d: atob('cG9zdGZsaXguZ2l0aHViLmlv'),
        p: atob('SEhDMjAyNg=='),
        e: new Date('2026-01-31T23:59:59')
    };
    
    // DOMAIN CHECK
    function checkDomain() {
        const h = window.location.hostname;
        if (h !== _0xconfig.d && h !== 'localhost' && h !== '127.0.0.1' && h !== '') {
            showError('üö´ Unauthorized access from this domain.');
            return false;
        }
        return true;
    }
    
    // EXPIRATION CHECK
    function checkExpiration() {
        const now = new Date();
        if (now > _0xconfig.e) {
            showError('‚è∞ This access expired on January 31, 2026.<br>Contact us to renew.');
            return false;
        }
        return true;
    }
    
    // PASSWORD CHECK
    function checkPassword(input) {
        return input === _0xconfig.p;
    }
    
    // SHOW ERROR BLOCK
    function showError(msg) {
        const block = document.getElementById('errorBlock');
        const msgEl = document.getElementById('errorMessage');
        msgEl.innerHTML = msg;
        block.style.display = 'flex';
        document.getElementById('protectionModal').style.display = 'none';
    }
    
    // UNLOCK APP
    function unlockApp() {
        document.getElementById('protectionModal').style.display = 'none';
        document.querySelector('.app-content').style.display = 'block';
    }
    
    // DEVTOOLS DETECTION
    let devtoolsOpen = false;
    const threshold = 160;
    
    function detectDevTools() {
        if (window.outerWidth - window.innerWidth > threshold || 
            window.outerHeight - window.innerHeight > threshold) {
            if (!devtoolsOpen) {
                devtoolsOpen = true;
                console.log('%c‚ö†Ô∏è COPYRIGHT PROTECTED - UNAUTHORIZED ACCESS WILL BE PROSECUTED', 'color: #dc2626; font-size: 24px; font-weight: bold;');
                setTimeout(() => {
                    window.close();
                    window.location.href = 'about:blank';
                }, 100);
            }
        }
    }
    
    setInterval(detectDevTools, 1000);
    
    // KEYBOARD SHORTCUTS BLOCKER
    document.addEventListener('keydown', function(e) {
        // F12
        if (e.keyCode === 123) {
            e.preventDefault();
            console.log('%c‚ö†Ô∏è COPYRIGHT PROTECTED', 'color: #dc2626; font-size: 20px; font-weight: bold;');
            return false;
        }
        // Ctrl+Shift+I
        if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
            e.preventDefault();
            return false;
        }
        // Ctrl+Shift+J
        if (e.ctrlKey && e.shiftKey && e.keyCode === 74) {
            e.preventDefault();
            return false;
        }
        // Ctrl+U
        if (e.ctrlKey && e.keyCode === 85) {
            e.preventDefault();
            return false;
        }
        // Ctrl+S
        if (e.ctrlKey && e.keyCode === 83) {
            e.preventDefault();
            return false;
        }
    });
    
    // RIGHT CLICK BLOCKER
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        return false;
    });
    
    // COPY/CUT BLOCKER (except inputs)
    document.addEventListener('copy', function(e) {
        if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
            e.preventDefault();
            return false;
        }
    });
    
    document.addEventListener('cut', function(e) {
        if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
            e.preventDefault();
            return false;
        }
    });
    
    // DRAG BLOCKER
    document.addEventListener('dragstart', function(e) {
        if (e.target.tagName === 'IMG') {
            e.preventDefault();
            return false;
        }
    });
    
    // PASSWORD SUBMIT
    document.getElementById('submitPassword').addEventListener('click', function() {
        const input = document.getElementById('passwordInput').value;
        const errorEl = document.getElementById('passwordError');
        
        if (checkPassword(input)) {
            if (checkDomain() && checkExpiration()) {
                unlockApp();
            }
        } else {
            errorEl.textContent = '‚ùå Incorrect password. Please try again.';
            errorEl.style.display = 'block';
            document.getElementById('passwordInput').value = '';
        }
    });
    
    // ENTER KEY SUBMIT
    document.getElementById('passwordInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            document.getElementById('submitPassword').click();
        }
    });
    
    // INITIAL CHECKS
    if (!checkDomain() || !checkExpiration()) {
        return;
    }
})();

// ============================================
// CHRISTMAS PHRASES DATABASE
// ============================================
const christmasPhrases = {
    en: [
        "May your heart beat strong in 2026, in the perfect rhythm of health and happiness. Merry Christmas!",
        "Caring for children is believing in miracles every day. May Christmas renew this magic in us!",
        "Every day, hope is renewed. May this Christmas bring light, strength, and healing to all of us.",
        "May you have a solid structure to support all your dreams. Merry Christmas!",
        "This Christmas, may your connections be of love, your synapses of hope, and your thoughts of peace.",
        "May you see the world with the eyes of the heart this Christmas. Clear vision, full life!",
        "Taking care of lives is our greatest gift. We wish your entire family much health this Christmas.",
        "May your mind find peace, your heart comfort, and your soul rest. Merry Christmas!",
        "Celebrating life is our craft. May this Christmas be filled with love and peace.",
        "Not everything that heals is visible to the eyes. May Christmas reveal the best in each of us.",
        "May your skin reflect inner health and your glow be of genuine happiness. Merry Christmas!",
        "We bring relief, comfort, and peaceful sleep. May your Christmas be of well-deserved rest!",
        "Merry Christmas and a New Year full of great moments.",
        "May your whole body be in perfect balance, along with the joy of this Christmas!",
        "Every step is a conquered victory. May your Christmas be full of steps toward happiness!",
        "Life runs through our veins. May Christmas circulate love, health, and renewal through your entire being.",
        "May this Christmas strengthen your immunity and your hope!",
        "May your Christmas be of crystalline waters and renewed health!",
        "Breathe deeply: it's Christmas! May every inhale bring peace and every exhale release worries.",
        "May your joints move lightly and your spirit dance freely this Christmas!",
        "Serving is our vocation, healing is our mission, loving is our goal. Merry Christmas!",
        "Taking care of workplace health is an act of dignity. May this Christmas bring you safety and fulfillment!",
        "You teach us more than you imagine. Thank you for your trust. Merry Christmas!",
        "We care for you with respect, treat with science, and dedicate our effort to your health. Thank you for trusting us. Happy Holidays!",
        "Each patient inspires us to be better. Alone we are good, together we are extraordinary. May this Christmas strengthen our unity and gratitude!",
        "Dignity until the last breath. May Christmas remind us: every moment is precious.",
        "Where science meets art, healing is born. May your Christmas be a masterpiece of happiness!",
        "May you hear good news, breathe easily, and sing with joy this Christmas!",
        "While the world celebrates, we care. Our gift? Lives saved. Merry Christmas!",
        "More than a uniform, it is a symbol of hope. May Christmas renew our commitment to our patients!",
        "The love for our patients never ends. May your Christmas bring joy, smiles, and positive moments!",
        "Every line written is a story of care. May your Christmas write chapters of full health!",
        "Christmas prescription: 1 dose of love, 2 of hope, 3 of health. Take daily, every day of the coming year!",
        "May your Christmas be filled with restored lives and love!",
        "May your temperature always be of health and your heart always warm with love. Merry Christmas!",
        "We listen to more than heartbeats: we listen to stories and hopes. We wish you a Merry Christmas!",
        "Within these walls, we build trust and care with attention. May your Christmas be of warmth and love!",
        "Our hands do not perform miracles, but they are tools of the One who does. Merry Christmas!",
        "Merry Christmas!",
        "Merry Christmas and a Happy New Year!"
    ],
    es: [
        "Que tu coraz√≥n lata fuerte en 2026, al ritmo perfecto de salud y felicidad. ¬°Feliz Navidad!",
        "Cuidar de los ni√±os es creer en milagros cada d√≠a. Que la Navidad renueve esta magia en nosotros.",
        "Cada d√≠a, la esperanza se renueva. Que esta Navidad traiga luz, fuerza y sanaci√≥n para todos.",
        "Que tengas una estructura s√≥lida para sostener todos tus sue√±os. ¬°Feliz Navidad!",
        "Esta Navidad, que tus conexiones sean de amor, tus sinapsis de esperanza y tus pensamientos de paz.",
        "Que veas el mundo con los ojos del coraz√≥n esta Navidad. Visi√≥n clara, vida plena.",
        "Cuidar vidas es nuestro mayor regalo. Deseamos mucha salud para toda tu familia esta Navidad.",
        "Que tu mente encuentre paz, tu coraz√≥n consuelo y tu alma descanso. ¬°Feliz Navidad!",
        "Celebrar la vida es nuestro arte. Que esta Navidad est√© llena de amor y paz.",
        "No todo lo que sana es visible a los ojos. Que la Navidad revele lo mejor de cada uno de nosotros.",
        "Que tu piel refleje salud interior y tu brillo sea de verdadera felicidad. ¬°Feliz Navidad!",
        "Traemos alivio, confort y sue√±o tranquilo. Que tu Navidad sea de descanso merecido.",
        "¬°Feliz Navidad y un A√±o Nuevo lleno de grandes momentos!",
        "Que todo tu cuerpo est√© en perfecto equilibrio, junto con la alegr√≠a de esta Navidad.",
        "Cada paso es una victoria conquistada. Que tu Navidad est√© llena de pasos hacia la felicidad.",
        "La vida corre por nuestras venas. Que la Navidad circule amor, salud y renovaci√≥n en todo tu ser.",
        "Que esta Navidad fortalezca tu inmunidad y tu esperanza.",
        "Que tu Navidad sea de aguas cristalinas y salud renovada.",
        "Respira profundo: ¬°es Navidad! Que cada inhalaci√≥n traiga paz y cada exhalaci√≥n libere preocupaciones.",
        "Que tus articulaciones se muevan con ligereza y tu esp√≠ritu baile libre esta Navidad.",
        "Servir es nuestra vocaci√≥n, curar nuestra misi√≥n, amar nuestro objetivo. ¬°Feliz Navidad!",
        "Cuidar la salud en el trabajo es un acto de dignidad. Que esta Navidad te traiga seguridad y plenitud.",
        "Nos ense√±an m√°s de lo que imaginan. Gracias por su confianza. ¬°Feliz Navidad!",
        "Cuidamos de ti con respeto, tratamos con ciencia y dedicamos nuestro esfuerzo a tu salud. Gracias por confiar en nosotros. ¬°Felices fiestas!",
        "Cada paciente nos inspira a ser mejores. Solos somos buenos, juntos extraordinarios. Que esta Navidad fortalezca nuestra unidad y gratitud.",
        "Dignidad hasta el √∫ltimo aliento. Que la Navidad nos recuerde: cada momento es precioso.",
        "Donde la ciencia encuentra el arte, nace la cura. Que tu Navidad sea una obra maestra de felicidad.",
        "Que escuches buenas noticias, respires aliviado y cantes de alegr√≠a esta Navidad.",
        "Mientras el mundo celebra, cuidamos. ¬øNuestro regalo? Vidas salvadas. ¬°Feliz Navidad!",
        "M√°s que un uniforme, es un s√≠mbolo de esperanza. Que la Navidad renueve nuestro compromiso con nuestros pacientes.",
        "El amor por nuestros pacientes nunca termina. Que tu Navidad traiga alegr√≠a, sonrisas y momentos positivos.",
        "Cada l√≠nea escrita es una historia de cuidado. Que tu Navidad escriba cap√≠tulos de salud plena.",
        "Prescripci√≥n de Navidad: 1 dosis de amor, 2 de esperanza, 3 de salud. Tomar diariamente, todos los d√≠as del pr√≥ximo a√±o.",
        "Que tu Navidad est√© llena de vidas restauradas y amor.",
        "Que tu temperatura sea siempre de salud y tu coraz√≥n siempre c√°lido de amor. ¬°Feliz Navidad!",
        "Escuchamos m√°s que latidos: escuchamos historias y esperanzas. ¬°Te deseamos una Feliz Navidad!",
        "Dentro de estas paredes, construimos confianza y cuidamos con atenci√≥n. Que tu Navidad sea de acogimiento y amor.",
        "Nuestras manos no realizan milagros, pero son herramientas de Quien los realiza. ¬°Feliz Navidad!",
        "Feliz Navidad!",
        "Feliz Navidad y pr√≥spero A√±o Nuevo!"
    ],
    pt: [
        "Que seu cora√ß√£o bata forte em 2026, no ritmo perfeito de sa√∫de e felicidade. Feliz Natal!",
        "Cuidar das crian√ßas √© acreditar em milagres todos os dias. Que o Natal renove essa magia em n√≥s!",
        "Todos os dias, a esperan√ßa se renova. Que este Natal traga luz, for√ßa e cura para todos n√≥s.",
        "Que voc√™ tenha uma estrutura s√≥lida para sustentar todos os seus sonhos. Feliz Natal!",
        "Neste Natal, que suas conex√µes sejam de amor, suas sinapses de esperan√ßa e seus pensamentos de paz.",
        "Que voc√™ veja o mundo com os olhos do cora√ß√£o neste Natal. Vis√£o clara, vida plena!",
        "Cuidar de vidas √© o nosso maior presente. Desejamos muita sa√∫de para toda a sua fam√≠lia neste Natal.",
        "Que sua mente encontre paz, seu cora√ß√£o conforto e sua alma descanso. Feliz Natal!",
        "Celebrar a vida √© nossa arte. Que este Natal seja repleto de amor e paz.",
        "Nem tudo o que cura √© vis√≠vel aos olhos. Que o Natal revele o melhor em cada um de n√≥s.",
        "Que sua pele reflita sa√∫de interior e seu brilho seja de verdadeira felicidade. Feliz Natal!",
        "Trazemos al√≠vio, conforto e sono tranquilo. Que seu Natal seja de merecido descanso!",
        "Feliz Natal e um ano novo repleto de grandes momentos.",
        "Que todo o seu corpo esteja em perfeito equil√≠brio, junto com a alegria deste Natal!",
        "Cada passo √© uma vit√≥ria conquistada. Que seu Natal seja cheio de passos rumo √† felicidade!",
        "A vida corre em nossas veias. Que o Natal circule amor, sa√∫de e renova√ß√£o em todo o seu ser.",
        "Que este Natal fortale√ßa sua imunidade e sua esperan√ßa!",
        "Que seu Natal seja de √°guas cristalinas e sa√∫de renovada!",
        "Respire fundo: √© Natal! Que cada inspira√ß√£o traga paz e cada expira√ß√£o libere preocupa√ß√µes.",
        "Que suas articula√ß√µes se movam com leveza e seu esp√≠rito dance livre neste Natal!",
        "Servir √© nossa voca√ß√£o, curar √© nossa miss√£o, amar √© nosso objetivo. Feliz Natal!",
        "Cuidar da sa√∫de no trabalho √© um ato de dignidade. Que este Natal lhe traga seguran√ßa e plenitude!",
        "Voc√™s nos ensinam mais do que imaginam. Obrigado pela confian√ßa. Feliz Natal!",
        "Cuidamos de voc√™ com respeito, tratamos com ci√™ncia e dedicamos nosso esfor√ßo √† sua sa√∫de. Obrigado por confiar em n√≥s. Boas festas!",
        "Cada paciente nos inspira a ser melhores. Sozinhos somos bons, juntos somos extraordin√°rios. Que este Natal fortale√ßa nossa uni√£o e gratid√£o!",
        "Dignidade at√© o √∫ltimo suspiro. Que o Natal nos lembre: cada momento √© precioso.",
        "Onde a ci√™ncia encontra a arte, nasce a cura. Que seu Natal seja uma obra-prima de felicidade!",
        "Que voc√™ ou√ßa boas not√≠cias, respire aliviado e cante de alegria neste Natal!",
        "Enquanto o mundo celebra, n√≥s cuidamos. Nosso presente? Vidas salvas. Feliz Natal!",
        "Mais que um jaleco, √© um s√≠mbolo de esperan√ßa. Que o Natal renove nosso compromisso com nossos pacientes!",
        "O amor pelos nossos pacientes nunca termina. Que seu Natal traga alegria, sorrisos e momentos positivos!",
        "Cada linha escrita √© uma hist√≥ria de cuidado. Que seu Natal escreva cap√≠tulos de sa√∫de plena!",
        "Prescri√ß√£o de Natal: 1 dose de amor, 2 de esperan√ßa, 3 de sa√∫de. Tomar diariamente, todos os dias do pr√≥ximo ano!",
        "Que seu Natal esteja repleto de vidas restauradas e amor!",
        "Que sua temperatura seja sempre de sa√∫de e seu cora√ß√£o sempre aquecido de amor. Feliz Natal!",
        "Ouvimos mais do que batimentos: ouvimos hist√≥rias e esperan√ßas. Desejamos a voc√™ um Feliz Natal!",
        "Entre estas paredes, constru√≠mos confian√ßa e cuidamos com aten√ß√£o. Que seu Natal seja de acolhimento e amor!",
        "Nossas m√£os n√£o realizam milagres, mas s√£o ferramentas Daquele que os realiza. Feliz Natal!",
        "Feliz Natal!",
        "Feliz Natal e √≥timo ano novo!"
    ],
    it: [
        "Che il tuo cuore batta forte nel 2026, nel ritmo perfetto di salute e felicit√†. Buon Natale!",
        "Prendersi cura dei bambini significa credere nei miracoli ogni giorno. Che il Natale rinnovi questa magia in noi!",
        "Ogni giorno, la speranza si rinnova. Che questo Natale porti luce, forza e guarigione a tutti noi.",
        "Che tu abbia una struttura solida per sostenere tutti i tuoi sogni. Buon Natale!",
        "Questo Natale, che le tue connessioni siano di amore, le tue sinapsi di speranza e i tuoi pensieri di pace.",
        "Che tu possa vedere il mondo con gli occhi del cuore questo Natale. Visione chiara, vita piena!",
        "Prendersi cura delle vite √® il nostro dono pi√π grande. Auguriamo tanta salute a tutta la tua famiglia questo Natale.",
        "Che la tua mente trovi pace, il tuo cuore conforto e la tua anima riposo. Buon Natale!",
        "Celebrare la vita √® la nostra arte. Che questo Natale sia pieno di amore e pace!",
        "Non tutto ci√≤ che guarisce √® visibile agli occhi. Che il Natale riveli il meglio di ciascuno di noi!",
        "Che la tua pelle rifletta la salute interiore e il tuo splendore sia di vera felicit√†. Buon Natale!",
        "Portiamo sollievo, conforto e sonno tranquillo. Che il tuo Natale sia di meritato riposo!",
        "Buon Natale e un nuovo anno pieno di grandi momenti!",
        "Che tutto il tuo corpo sia in perfetto equilibrio, insieme alla gioia di questo Natale!",
        "Ogni passo √® una vittoria conquistata. Che il tuo Natale sia pieno di passi verso la felicit√†!",
        "La vita scorre nelle nostre vene. Che il Natale faccia circolare amore, salute e rinnovamento in tutto il tuo essere.",
        "Che questo Natale rafforzi la tua immunit√† e la tua speranza!",
        "Che il tuo Natale sia di acque cristalline e salute rinnovata!",
        "Respira a fondo: √® Natale! Che ogni inspirazione porti pace e ogni espirazione liberi preoccupazioni.",
        "Che le tue articolazioni si muovano con leggerezza e il tuo spirito danzi libero questo Natale!",
        "Servire √® la nostra vocazione, guarire √® la nostra missione, amare √® il nostro obiettivo. Buon Natale!",
        "Prendersi cura della salute sul lavoro √® un atto di dignit√†. Che questo Natale ti porti sicurezza e pienezza!",
        "Ci insegnate pi√π di quanto possiate immaginare. Grazie per la vostra fiducia. Buon Natale!",
        "Ci prendiamo cura di voi con rispetto, trattiamo con scienza e dedichiamo il nostro impegno alla vostra salute. Grazie per averci scelto. Buone feste!",
        "Ogni paziente ci ispira a essere migliori. Da soli siamo bravi, insieme siamo straordinari. Che questo Natale rafforzi la nostra unit√† e gratitudine!",
        "Dignit√† fino all'ultimo respiro. Che il Natale ci ricordi: ogni momento √® prezioso.",
        "Dove la scienza incontra l'arte nasce la guarigione. Che il tuo Natale sia un capolavoro di felicit√†!",
        "Che tu possa ricevere buone notizie, respirare sollevato e cantare di gioia questo Natale!",
        "Mentre il mondo celebra, noi ci prendiamo cura. Il nostro regalo? Vite salvate. Buon Natale!",
        "Pi√π di un camice, √® un simbolo di speranza. Che il Natale rinnovi il nostro impegno verso i nostri pazienti!",
        "L'amore per i nostri pazienti non finisce mai. Che il tuo Natale porti gioia, sorrisi e momenti positivi!",
        "Ogni riga scritta √® una storia di cura. Che il tuo Natale scriva capitoli di piena salute!",
        "Prescrizione di Natale: 1 dose di amore, 2 di speranza, 3 di salute. Da prendere quotidianamente, ogni giorno del prossimo anno!",
        "Che il tuo Natale sia pieno di vite restaurate e amore!",
        "Che la tua temperatura sia sempre di salute e il tuo cuore sempre caldo di amore. Buon Natale!",
        "Ascoltiamo pi√π dei battiti: ascoltiamo storie e speranze. Ti auguriamo un Buon Natale!",
        "Tra queste pareti costruiamo fiducia e curiamo con attenzione. Che il tuo Natale sia di accoglienza e amore!",
        "Le nostre mani non compiono miracoli, ma sono strumenti di Colui che li compie. Buon Natale!",
        "Buon Natale!",
        "Buon Natale e felice anno nuovo!"
    ],
    fr: [
        "Que votre c≈ìur batte fort en 2026, dans le rythme parfait de sant√© et de bonheur. Joyeux No√´l !",
        "Prendre soin des enfants, c'est croire aux miracles chaque jour. Que No√´l renouvelle cette magie en nous !",
        "Chaque jour, l'espoir se renouvelle. Que ce No√´l apporte lumi√®re, force et gu√©rison √† tous !",
        "Que vous ayez une structure solide pour soutenir tous vos r√™ves. Joyeux No√´l !",
        "Ce No√´l, que vos connexions soient d'amour, vos synapses d'espoir et vos pens√©es de paix.",
        "Que vous voyiez le monde avec les yeux du c≈ìur ce No√´l. Vision claire, vie pleine !",
        "Prendre soin des vies est notre plus grand cadeau. Nous vous souhaitons beaucoup de sant√© pour toute votre famille ce No√´l.",
        "Que votre esprit trouve la paix, votre c≈ìur du r√©confort et votre √¢me du repos. Joyeux No√´l !",
        "C√©l√©brer la vie est notre art. Que ce No√´l soit rempli d'amour et de paix !",
        "Tout ce qui gu√©rit n'est pas toujours visible. Que No√´l r√©v√®le le meilleur en chacun de nous !",
        "Que votre peau refl√®te la sant√© int√©rieure et que votre √©clat soit celui d'un vrai bonheur. Joyeux No√´l !",
        "Nous apportons soulagement, confort et sommeil paisible. Que votre No√´l soit un repos bien m√©rit√© !",
        "Joyeux No√´l et une nouvelle ann√©e pleine de beaux moments !",
        "Que tout votre corps soit en parfait √©quilibre, avec la joie de ce No√´l !",
        "Chaque pas est une victoire conquise. Que votre No√´l soit rempli de pas vers le bonheur !",
        "La vie coule dans nos veines. Que No√´l circule amour, sant√© et renouveau dans tout votre √™tre.",
        "Que ce No√´l renforce votre immunit√© et votre espoir !",
        "Que votre No√´l soit d'eaux cristallines et de sant√© renouvel√©e !",
        "Respirez profond√©ment : c'est No√´l ! Que chaque inspiration apporte paix et chaque expiration lib√®re les soucis.",
        "Que vos articulations bougent avec l√©g√®ret√© et que votre esprit danse librement ce No√´l !",
        "Servir est notre vocation, gu√©rir est notre mission, aimer est notre objectif. Joyeux No√´l !",
        "Prendre soin de la sant√© au travail est un acte de dignit√©. Que ce No√´l vous apporte s√©curit√© et pl√©nitude !",
        "Vous nous enseignez plus que vous ne l'imaginez. Merci pour votre confiance. Joyeux No√´l !",
        "Nous prenons soin de vous avec respect, traitons avec science et d√©dions nos efforts √† votre sant√©. Merci de votre confiance. Joyeuses f√™tes !",
        "Chaque patient nous inspire √† √™tre meilleurs. Seuls nous sommes bons, ensemble nous sommes extraordinaires. Que ce No√´l renforce notre unit√© et notre gratitude !",
        "Dignit√© jusqu'au dernier souffle. Que No√´l nous rappelle : chaque instant est pr√©cieux.",
        "L√† o√π la science rencontre l'art, na√Æt la gu√©rison. Que votre No√´l soit un chef-d'≈ìuvre de bonheur !",
        "Que vous entendiez de bonnes nouvelles, respiriez facilement et chantiez de joie ce No√´l !",
        "Pendant que le monde c√©l√®bre, nous prenons soin. Notre cadeau ? Des vies sauv√©es. Joyeux No√´l !",
        "Plus qu'une blouse, c'est un symbole d'espoir. Que No√´l renouvelle notre engagement envers nos patients !",
        "L'amour pour nos patients ne s'arr√™te jamais. Que votre No√´l apporte joie, sourires et moments positifs !",
        "Chaque ligne √©crite est une histoire de soin. Que votre No√´l √©crive des chapitres de sant√© compl√®te !",
        "Prescription de No√´l : 1 dose d'amour, 2 d'espoir, 3 de sant√©. √Ä prendre quotidiennement, chaque jour de la prochaine ann√©e !",
        "Que votre No√´l soit rempli de vies restaur√©es et d'amour !",
        "Que votre temp√©rature soit toujours de sant√© et votre c≈ìur toujours chaud d'amour. Joyeux No√´l !",
        "Nous √©coutons plus que des battements : nous √©coutons des histoires et des espoirs. Nous vous souhaitons un Joyeux No√´l !",
        "Entre ces murs, nous construisons la confiance et soignons avec attention. Que votre No√´l soit de chaleur et d'amour !",
        "Nos mains ne font pas de miracles, mais elles sont des outils de Celui qui les r√©alise. Joyeux No√´l !",
        "Joyeux No√´l !",
        "Joyeux No√´l et bonne ann√©e !"
    ],
    de: [
        "M√∂ge dein Herz 2026 stark schlagen, im perfekten Rhythmus von Gesundheit und Gl√ºck. Frohe Weihnachten!",
        "Sich um Kinder zu k√ºmmern bedeutet, jeden Tag an Wunder zu glauben. M√∂ge Weihnachten diese Magie in uns erneuern!",
        "Jeden Tag wird die Hoffnung erneuert. M√∂ge dieses Weihnachten Licht, Kraft und Heilung f√ºr uns alle bringen.",
        "M√∂gest du eine solide Struktur haben, um all deine Tr√§ume zu tragen. Frohe Weihnachten!",
        "Dieses Weihnachten m√∂gen deine Verbindungen aus Liebe, deine Synapsen aus Hoffnung und deine Gedanken aus Frieden bestehen.",
        "M√∂gest du die Welt mit den Augen des Herzens sehen dieses Weihnachten. Klare Sicht, volles Leben!",
        "Sich um Leben zu k√ºmmern ist unser gr√∂√ütes Geschenk. Wir w√ºnschen deiner ganzen Familie viel Gesundheit dieses Weihnachten.",
        "M√∂ge dein Geist Frieden finden, dein Herz Geborgenheit und deine Seele Ruhe. Frohe Weihnachten!",
        "Das Leben zu feiern ist unser Handwerk. M√∂ge dieses Weihnachten voller Liebe und Frieden sein!",
        "Nicht alles, was heilt, ist f√ºr die Augen sichtbar. M√∂ge Weihnachten das Beste in jedem von uns offenbaren!",
        "M√∂ge deine Haut innere Gesundheit widerspiegeln und dein Strahlen echte Freude sein. Frohe Weihnachten!",
        "Wir bringen Erleichterung, Komfort und ruhigen Schlaf. M√∂ge dein Weihnachten wohlverdiente Erholung bringen!",
        "Frohe Weihnachten und ein neues Jahr voller gro√üartiger Momente!",
        "M√∂ge dein ganzer K√∂rper im perfekten Gleichgewicht sein, zusammen mit der Freude dieses Weihnachten!",
        "Jeder Schritt ist ein errungener Sieg. M√∂ge dein Weihnachten voller Schritte zum Gl√ºck sein!",
        "Das Leben flie√üt durch unsere Adern. M√∂ge Weihnachten Liebe, Gesundheit und Erneuerung durch deinen ganzen K√∂rper zirkulieren lassen.",
        "M√∂ge dieses Weihnachten deine Immunit√§t und deine Hoffnung st√§rken!",
        "M√∂ge dein Weihnachten aus kristallklarem Wasser und erneuerter Gesundheit bestehen!",
        "Atme tief ein: es ist Weihnachten! M√∂ge jeder Atemzug Frieden bringen und jeder Ausatmen Sorgen l√∂sen.",
        "M√∂gen deine Gelenke sich leicht bewegen und dein Geist frei tanzen dieses Weihnachten!",
        "Dienen ist unsere Berufung, Heilen unsere Mission, Lieben unser Ziel. Frohe Weihnachten!",
        "Sich um die Gesundheit am Arbeitsplatz zu k√ºmmern ist ein Akt der W√ºrde. M√∂ge dieses Weihnachten dir Sicherheit und Erf√ºllung bringen!",
        "Ihr lehrt uns mehr, als ihr euch vorstellen k√∂nnt. Danke f√ºr euer Vertrauen. Frohe Weihnachten!",
        "Wir k√ºmmern uns mit Respekt, behandeln mit Wissenschaft und widmen unsere M√ºhe eurer Gesundheit. Danke, dass ihr uns vertraut. Frohe Feiertage!",
        "Jeder Patient inspiriert uns, besser zu werden. Allein sind wir gut, zusammen au√üergew√∂hnlich. M√∂ge dieses Weihnachten unsere Einheit und Dankbarkeit st√§rken!",
        "W√ºrde bis zum letzten Atemzug. M√∂ge Weihnachten uns daran erinnern: jeder Moment ist kostbar.",
        "Wo Wissenschaft auf Kunst trifft, entsteht Heilung. M√∂ge dein Weihnachten ein Meisterwerk des Gl√ºcks sein!",
        "M√∂gest du gute Nachrichten h√∂ren, erleichtert atmen und vor Freude singen dieses Weihnachten!",
        "W√§hrend die Welt feiert, k√ºmmern wir uns. Unser Geschenk? Gerettete Leben. Frohe Weihnachten!",
        "Mehr als ein Kittel ist es ein Symbol der Hoffnung. M√∂ge Weihnachten unser Engagement gegen√ºber unseren Patienten erneuern!",
        "Die Liebe zu unseren Patienten endet niemals. M√∂ge dein Weihnachten Freude, L√§cheln und positive Momente bringen!",
        "Jede geschriebene Zeile ist eine Geschichte der F√ºrsorge. M√∂ge dein Weihnachten Kapitel voller Gesundheit schreiben!",
        "Weihnachtsrezept: 1 Dosis Liebe, 2 Dosen Hoffnung, 3 Dosen Gesundheit. T√§glich einnehmen, jeden Tag des kommenden Jahres!",
        "M√∂ge dein Weihnachten voller wiederhergestellter Leben und Liebe sein!",
        "M√∂ge deine Temperatur immer gesund und dein Herz immer warm vor Liebe sein. Frohe Weihnachten!",
        "Wir h√∂ren mehr als Herzschl√§ge: wir h√∂ren Geschichten und Hoffnungen. Wir w√ºnschen dir Frohe Weihnachten!",
        "Innerhalb dieser W√§nde bauen wir Vertrauen auf und k√ºmmern uns aufmerksam. M√∂ge dein Weihnachten voller Herzlichkeit und Liebe sein!",
        "Unsere H√§nde vollbringen keine Wunder, aber sie sind Werkzeuge dessen, der sie vollbringt. Frohe Weihnachten!",
        "Frohe Weihnachten!",
        "Frohe Weihnachten und ein gutes neues Jahr!"
    ]
};

let currentImageObjectURL = null;
let currentLanguage = 'en';

const colorSwatches = [
    '#000000', '#ffffff', '#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff',
    '#ffa500', '#800080', '#4a90e2', '#7ed321', '#d0021b', '#50e3c2', '#888888', '#fbbf24'
];

// ============================================
// DOM ELEMENTS
// ============================================
const el = {
    bg: document.getElementById('backgroundInput'),
    customFileBtn: document.getElementById('customFileBtn'),
    fileName: document.getElementById('fileName'),
    text: document.getElementById('textInput'),
    font: document.getElementById('fontSelect'),
    bold: document.getElementById('boldCheck'),
    italic: document.getElementById('italicCheck'),
    fontSize: document.getElementById('fontSizeSlider'),
    fontSizeValue: document.getElementById('fontSizeValue'),
    prevText: document.getElementById('previewText'),
    prevImg: document.getElementById('previewImage'),
    download: document.getElementById('downloadBtn'),
    colorPal: document.getElementById('colorPalette'),
    output: document.getElementById('filteredPhrasesOutput'),
    area: document.getElementById('previewArea'),
    imgMsg: document.getElementById('imageMessage'),
    dlMsg: document.getElementById('downloadMessage')
};

// ============================================
// CHRISTMAS PHRASES
// ============================================

function renderPhrases(lang) {
    currentLanguage = lang;
    const phrases = christmasPhrases[lang] || christmasPhrases.en;
    el.output.innerHTML = '';
    phrases.forEach(phrase => {
        const item = document.createElement('div');
        item.className = 'phrase-item';
        item.textContent = phrase;
        item.onclick = () => {
            el.text.value = phrase;
            updatePreview();
            showMessage(el.imgMsg, '‚ú® Phrase added to your post!', 'success');
            setTimeout(() => showMessage(el.imgMsg, '', ''), 2000);
        };
        el.output.appendChild(item);
    });
    
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
}

document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.onclick = () => renderPhrases(btn.dataset.lang);
});

// ============================================
// COLOR PALETTE
// ============================================

function createColorSwatches(container, targetElement, initialColor) {
    container.innerHTML = '';
    colorSwatches.forEach((color, index) => {
        const swatch = document.createElement('div');
        swatch.className = 'color-swatch';
        swatch.style.backgroundColor = color;
        swatch.onclick = () => {
            container.querySelectorAll('.color-swatch').forEach(s => s.classList.remove('active'));
            swatch.classList.add('active');
            targetElement.style.color = color;
        };
        if (color === initialColor) {
            swatch.classList.add('active');
        }
        container.appendChild(swatch);
    });
}

// ============================================
// DRAG FUNCTIONALITY
// ============================================

function makeDraggable(element) {
    let isDragging = false;
    let startX, startY, initialX, initialY;

    element.addEventListener('mousedown', (e) => {
        isDragging = true;
        element.classList.add('dragging');
        
        const rect = element.getBoundingClientRect();
        const parentRect = el.area.getBoundingClientRect();
        
        startX = e.clientX;
        startY = e.clientY;
        initialX = rect.left - parentRect.left;
        initialY = rect.top - parentRect.top;
        
        e.preventDefault();
    });

    document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        
        const dx = e.clientX - startX;
        const dy = e.clientY - startY;
        
        const newLeft = initialX + dx;
        const newTop = initialY + dy;
        
        element.style.left = newLeft + 'px';
        element.style.top = newTop + 'px';
        element.style.transform = 'none';
    });

    document.addEventListener('mouseup', () => {
        if (isDragging) {
            isDragging = false;
            element.classList.remove('dragging');
        }
    });

    element.addEventListener('touchstart', (e) => {
        isDragging = true;
        element.classList.add('dragging');
        
        const touch = e.touches[0];
        const rect = element.getBoundingClientRect();
        const parentRect = el.area.getBoundingClientRect();
        
        startX = touch.clientX;
        startY = touch.clientY;
        initialX = rect.left - parentRect.left;
        initialY = rect.top - parentRect.top;
        
        e.preventDefault();
    });

    document.addEventListener('touchmove', (e) => {
        if (!isDragging) return;
        
        const touch = e.touches[0];
        const dx = touch.clientX - startX;
        const dy = touch.clientY - startY;
        
        const newLeft = initialX + dx;
        const newTop = initialY + dy;
        
        element.style.left = newLeft + 'px';
        element.style.top = newTop + 'px';
        element.style.transform = 'none';
    });

    document.addEventListener('touchend', () => {
        if (isDragging) {
            isDragging = false;
            element.classList.remove('dragging');
        }
    });
}

makeDraggable(el.prevText);

// ============================================
// UTILITY FUNCTIONS
// ============================================

function showMessage(container, message, type = '') {
    container.textContent = message;
    container.className = message ? `message ${type}` : '';
}

// ============================================
// FILE UPLOAD
// ============================================

el.customFileBtn.onclick = () => el.bg.click();
el.bg.onchange = (e) => {
    const file = e.target.files[0];
    if (!file) return;
    
    if (!file.type.startsWith('image/')) {
        showMessage(el.imgMsg, '‚ö†Ô∏è Please select a valid image file!', 'error');
        return;
    }
    
    if (file.size > 10 * 1024 * 1024) {
        showMessage(el.imgMsg, '‚ö†Ô∏è Image too large! Max 10MB.', 'error');
        return;
    }
    
    if (currentImageObjectURL) {
        URL.revokeObjectURL(currentImageObjectURL);
    }

    currentImageObjectURL = URL.createObjectURL(file);
    el.prevImg.src = currentImageObjectURL;
    el.fileName.textContent = file.name;
    showMessage(el.imgMsg, 'Image loaded successfully!', 'success');
};

// ============================================
// PREVIEW UPDATES
// ============================================

function updatePreview() {
    el.prevText.innerText = el.text.value || '';
    el.prevText.style.fontFamily = el.font.value;
    el.prevText.style.fontWeight = el.bold.checked ? '700' : '400';
    el.prevText.style.fontStyle = el.italic.checked ? 'italic' : 'normal';
    
    const requestedSize = parseInt(el.fontSize.value);
    const maxWidth = el.area.offsetWidth * 0.9;
    
    el.prevText.style.fontSize = requestedSize + 'px';
    
    setTimeout(() => {
        let finalSize = requestedSize;
        
        while (el.prevText.scrollWidth > maxWidth && finalSize > 16) {
            finalSize -= 2;
            el.prevText.style.fontSize = finalSize + 'px';
        }
        
        if (finalSize < requestedSize) {
            el.fontSizeValue.innerHTML = `${requestedSize}px <span style="font-size:0.75rem; color:#ff6b6b; font-style:italic; margin-left:5px;">(auto: ${finalSize}px)</span>`;
            el.fontSizeValue.style.color = '#ff6b6b';
        } else {
            el.fontSizeValue.textContent = `${requestedSize}px`;
            el.fontSizeValue.style.color = '#22c55e';
        }
    }, 50);
}

// ============================================
// EVENT LISTENERS
// ============================================

el.text.oninput = updatePreview;
el.font.onchange = updatePreview;
el.bold.onchange = updatePreview;
el.italic.onchange = updatePreview;
el.fontSize.oninput = updatePreview;

// ============================================
// IMAGE GENERATION
// ============================================

async function generateImage() {
    const canvas = await html2canvas(el.area, {
        allowTaint: true,
        useCORS: true,
        backgroundColor: null,
        scale: 2
    });
    
    return canvas;
}

// ============================================
// DOWNLOAD FUNCTIONALITY
// ============================================

el.download.onclick = async () => {
    if (!el.prevImg.src) {
        showMessage(el.dlMsg, 'Please add an image first!', 'error');
        return;
    }

    el.download.disabled = true;
    
    try {
        el.download.innerHTML = '<span class="spinner"></span>Generating...';
        
        const canvas = await generateImage();
        const link = document.createElement('a');
        link.download = 'Healthcare-Holiday-Cards-' + Date.now() + '.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
        
        showMessage(el.dlMsg, '‚úÖ Download completed successfully!', 'success');
    } catch (err) {
        showMessage(el.dlMsg, '‚ùå Error generating image!', 'error');
        console.error(err);
    } finally {
        el.download.disabled = false;
        el.download.innerHTML = 'üéÅ Download Image';
    }
};

// ============================================
// INITIALIZATION
// ============================================

document.addEventListener('DOMContentLoaded', () => {
    createColorSwatches(el.colorPal, el.prevText, '#ffffff');
    
    renderPhrases('en');
    
    updatePreview();
});

window.addEventListener('beforeunload', () => {
    if (currentImageObjectURL) {
        URL.revokeObjectURL(currentImageObjectURL);
    }
});
</script>

</body>
</html>